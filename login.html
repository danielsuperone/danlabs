<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>DanLabs - Login</title>
    <meta name="description" content="Login to access gated content" />
    <meta name="robots" content="noindex, nofollow" />
    <script>window.tailwind = { config: { darkMode: 'class' } }</script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.268.0/dist/lucide.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body class="bg-white text-slate-900 dark:bg-slate-950 dark:text-white">
    <div class="relative min-h-screen selection:bg-indigo-500/30">

      <!-- Glow / backdrop for site aesthetic -->
      <div class="pointer-events-none fixed inset-0 -z-10 overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-sky-50/30 via-blue-50/20 to-indigo-50/30 dark:opacity-0"></div>
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-sky-200/20 rounded-full blur-3xl dark:opacity-0"></div>
        <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-indigo-200/15 rounded-full blur-3xl dark:opacity-0"></div>
        <div class="absolute top-1/3 right-1/3 w-72 h-72 bg-blue-200/10 rounded-full blur-3xl dark:opacity-0"></div>
        <div class="absolute inset-0 bg-[radial-gradient(60%_50%_at_50%_-10%,rgba(99,102,241,0.25),rgba(0,0,0,0)),radial-gradient(40%_30%_at_10%_90%,rgba(16,185,129,0.2),rgba(0,0,0,0)),radial-gradient(30%_30%_at_90%_20%,rgba(59,130,246,0.2),rgba(0,0,0,0))] dark:opacity-100 opacity-0"></div>
      </div>

      <header class="sticky top-0 z-40 backdrop-blur header-bg border-b border-slate-700/50 dark:border-slate-700/50">
        <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8">
          <div class="flex h-16 items-center justify-between">
            <div class="flex items-center gap-3">
              <button id="admin-btn" type="button" aria-label="Admin" class="grid h-9 w-9 place-items-center rounded-xl shadow-lg shadow-indigo-900/40 ring-1 ring-black/10 dark:ring-white/20 overflow-hidden bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400/70">
                <img src="assets/profile-picture.svg" alt="Profile" class="logo-img" />
              </button>
              <span class="font-semibold tracking-tight text-white dark:text-white [html:not(.dark)_&]:text-slate-700">DanLabs</span>
            </div>

            <div class="controls flex items-center gap-2">
              <button id="theme-toggle" class="inline-flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-medium text-white hover:bg-white/10 dark:border-white/10 dark:bg-white/5 dark:text-white dark:hover:bg-white/10 [html:not(.dark)_&]:border-sky-200 [html:not(.dark)_&]:bg-white/80 [html:not(.dark)_&]:text-slate-700 [html:not(.dark)_&]:hover:bg-white [html:not(.dark)_&]:hover:border-sky-300 shadow-lg shadow-indigo-900/40">
                <span class="btn-emoji mr-2" aria-hidden="true">üåó</span>
                <i data-lucide="sun" class="h-4 w-4"></i>
                <span class="hidden sm:inline">Light</span>
              </button>
              <a href="https://github.com/danielsuperone" target="_blank" rel="noreferrer" class="rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-medium text-white hover:bg-white/10 dark:border-white/10 dark:bg-white/5 dark:text-white dark:hover:bg-white/10 [html:not(.dark)_&]:border-sky-200 [html:not(.dark)_&]:bg-white/80 [html:not(.dark)_&]:text-slate-700 [html:not(.dark)_&]:hover:bg-white [html:not(.dark)_&]:hover:border-sky-300 inline-flex items-center gap-2 shadow-lg shadow-indigo-900/40">
                <span class="btn-emoji mr-2" aria-hidden="true">üêô</span>
                <i data-lucide="github" class="h-4 w-4"></i>
                <span class="hidden sm:inline">GitHub</span>
              </a>
            </div>
          </div>
        </div>
      </header>

      <main>
        <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8 py-16 sm:py-24 flex items-center">
          <div class="mx-auto max-w-3xl text-center">
            <h1 class="text-3xl sm:text-4xl font-bold">Authenticate to continue</h1>
            <p class="mt-3 text-slate-600 dark:text-slate-400">Enter your password to open the gated link.</p>

            <div class="mt-8 mx-auto max-w-md">
              <form id="login-form" class="mt-6 flex flex-col gap-3" onsubmit="return false;">
                <input id="pw" type="password" placeholder="Password" class="rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-black dark:text-white outline-none placeholder:text-slate-400 focus:ring-2 focus:ring-indigo-400" required />
                <div class="flex items-center gap-2">
                  <button id="login-btn" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-400 px-4 py-2 font-semibold text-black">Enter</button>
                  <div id="login-msg" class="text-sm text-slate-600 dark:text-slate-400"></div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </main>

      <!-- Toast container and footer same as other pages -->
      <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

      <footer class="border-t border-white/10 dark:border-white/10 [html:not(.dark)_&]:border-sky-200 py-10 text-center text-sm text-slate-400 dark:text-slate-400 [html:not(.dark)_&]:text-slate-600">
        ¬© <span id="year"></span> DanLabs
      </footer>
    </div>

    <script src="js/script.js"></script>
    <script>
      (function(){
        const form = document.getElementById('login-form');
        const pw = document.getElementById('pw');
        const msg = document.getElementById('login-msg');
        const PORTFOLIO_PASSWORD = '0000';
        const PRIVATE_PASSWORD = '123456';

        function getQueryParam(name){
          const u = new URL(window.location.href);
          return u.searchParams.get(name);
        }

        form.addEventListener('submit', ()=>{
          const val = pw.value || '';
          const target = getQueryParam('target');
          
          if (val === PORTFOLIO_PASSWORD && target === 'portfolio'){
            msg.textContent = 'Success ‚Äî opening portfolio...';
            window.open('https://portfolio.danlabs.me', '_blank', 'noopener');
          } else if (val === PRIVATE_PASSWORD){
            msg.textContent = 'Success ‚Äî redirecting...';
            window.location.href = 'private.html';
          } else {
            msg.textContent = 'Incorrect password';
            msg.style.color = 'rgb(239 68 68)';
            pw.value = '';
            pw.focus();
          }
        });
      })();
    </script>
  </body>
</html>
